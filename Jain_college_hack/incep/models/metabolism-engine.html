<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metabolism Engine - Bio-Inspired Blockchain Fraud Detection</title>
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/model-detail.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <h1>BioChainGuard</h1>
            </div>
            <ul class="nav-links">
                <li><a href="../index.html#overview">Overview</a></li>
                <li><a href="../index.html#problem">Problem</a></li>
                <li><a href="../index.html#models">Models</a></li>
                <li><a href="../index.html#visualizer">Visualizer</a></li>
                <li><a href="../index.html#tech">Tech Stack</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="model-hero metabolism-hero">
        <div class="container">
            <div class="model-hero-content">
                <div class="model-icon">
                    <i class="fas fa-fire"></i>
                </div>
                <h1>Metabolism Engine</h1>
                <p>Energy Signature Analysis for Blockchain Fraud Detection</p>
                <a href="infection-simulation.html" class="model-button">SIMULATION</a>
            </div>
        </div>
    </section>

    <!-- Model Overview Section -->
    <section class="model-overview">
        <div class="container">
            <div class="section-header">
                <h2>Model Overview</h2>
            </div>
            <div class="model-overview-content">
                <p>The Metabolism Engine is a bio-inspired fraud detection model that treats blockchain accounts as metabolic cells, where transaction frequency and volume act as "energy." This model monitors the energy consumption and production patterns of accounts to identify abnormal metabolic signatures that may indicate fraudulent activity.</p>
                <p>By analyzing the "metabolic rate" of accounts, the system can detect sudden bursts of activity, unusual dormancy periods, and other patterns that deviate from an account's established baseline, similar to how biological systems regulate their energy usage.</p>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works">
        <div class="container">
            <div class="section-header">
                <h2>How It Works</h2>
            </div>
            <div class="how-it-works-content">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Energy Measurement</h3>
                        <p>The Metabolism Engine measures several energy-related metrics for each account:</p>
                        <ul>
                            <li><strong>Energy Input:</strong> Incoming transaction volume and frequency</li>
                            <li><strong>Energy Output:</strong> Outgoing transaction volume and frequency</li>
                            <li><strong>Energy Storage:</strong> Account balance over time</li>
                            <li><strong>Metabolic Rate:</strong> The ratio of transaction activity to account age</li>
                        </ul>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Baseline Establishment</h3>
                        <p>For each account, the model establishes a metabolic baseline that represents normal behavior:</p>
                        <ul>
                            <li>Daily, weekly, and monthly energy consumption patterns</li>
                            <li>Typical energy input/output ratios</li>
                            <li>Normal fluctuations in energy storage</li>
                            <li>Expected metabolic rate based on account type and age</li>
                        </ul>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Anomaly Detection</h3>
                        <p>The model identifies several types of metabolic anomalies:</p>
                        <ul>
                            <li><strong>Energy Bursts:</strong> Sudden spikes in transaction activity</li>
                            <li><strong>Energy Starvation:</strong> Unexpected periods of inactivity</li>
                            <li><strong>Metabolic Imbalance:</strong> Unusual input/output ratios</li>
                            <li><strong>Circadian Disruption:</strong> Activity at unusual times compared to baseline</li>
                        </ul>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Risk Scoring</h3>
                        <p>Accounts are assigned a metabolic risk score based on:</p>
                        <ul>
                            <li>The magnitude of deviation from baseline</li>
                            <li>The duration of abnormal metabolic activity</li>
                            <li>The number of different metabolic anomalies detected</li>
                            <li>The similarity to known fraudulent metabolic patterns</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Key Features Section -->
    <section class="key-features">
        <div class="container">
            <div class="section-header">
                <h2>Key Features</h2>
            </div>
            <div class="key-features-content">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>Energy Burst Detection</h3>
                    <p>Identifies accounts with abnormally high transaction rates that may indicate automated fraud attacks or account takeovers.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <h3>Metabolic Balance Analysis</h3>
                    <p>Monitors the ratio of incoming to outgoing transactions to detect money laundering and other suspicious fund flows.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3>Circadian Rhythm Tracking</h3>
                    <p>Analyzes transaction timing patterns to identify activity that occurs outside an account's normal operational hours.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-history"></i>
                    </div>
                    <h3>Adaptive Baseline</h3>
                    <p>Continuously updates metabolic baselines to accommodate natural evolution in account behavior while still detecting sudden changes.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Visualization Section -->
    <section class="visualization">
        <div class="container">
            <div class="section-header">
                <h2>Visualization</h2>
            </div>
            <div class="visualization-content">
                <div class="visualization-description">
                    <p>The Metabolism Engine outputs are visualized as interactive thermograms that represent the metabolic activity of accounts across the blockchain network.</p>
                    <p>The visualization uses a heat-based color scheme where higher energy accounts appear "hotter" (red/orange), while lower energy accounts appear "cooler" (blue/green).</p>
                </div>
                <div class="visualization-image">
                    <img src="../images/metabolism-thermogram.jpg" alt="Metabolism Engine Thermogram Visualization">
                </div>
                <div class="visualization-details">
                    <h3>Interpreting the Visualization</h3>
                    <ul>
                        <li><strong>Red/Orange Areas:</strong> High-energy accounts with intense transaction activity</li>
                        <li><strong>Yellow Areas:</strong> Accounts with moderate but above-average activity</li>
                        <li><strong>Green Areas:</strong> Accounts with normal, healthy transaction patterns</li>
                        <li><strong>Blue Areas:</strong> Low-energy or dormant accounts</li>
                        <li><strong>Pulsing Nodes:</strong> Accounts with rapidly changing energy levels</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Technical Implementation Section -->
    <section class="technical-implementation">
        <div class="container">
            <div class="section-header">
                <h2>Technical Implementation</h2>
            </div>
            <div class="technical-content">
                <div class="code-block">
                    <pre><code>
# Simplified Python implementation of Metabolism Engine
import numpy as np
import pandas as pd
from datetime import datetime, timedelta

class MetabolismEngine:
    def __init__(self, decay_factor=0.95, anomaly_threshold=3.0):
        self.decay_factor = decay_factor
        self.anomaly_threshold = anomaly_threshold
        self.account_baselines = {}
        self.account_history = {}
        
    def process_transaction(self, transaction):
        """Process a new blockchain transaction and update metabolic metrics"""
        sender = transaction['sender']
        recipient = transaction['recipient']
        amount = transaction['amount']
        timestamp = transaction['timestamp']
        
        # Initialize account records if they don't exist
        for account in [sender, recipient]:
            if account not in self.account_baselines:
                self.account_baselines[account] = {
                    'hourly_energy': np.zeros(24),
                    'daily_energy': np.zeros(7),
                    'avg_input': 0,
                    'avg_output': 0,
                    'avg_balance': 0,
                    'transaction_count': 0
                }
                self.account_history[account] = []
        
        # Update sender metrics (energy output)
        self._update_account_metrics(sender, -amount, timestamp)
        
        # Update recipient metrics (energy input)
        self._update_account_metrics(recipient, amount, timestamp)
        
        # Calculate metabolic scores
        sender_score = self._calculate_metabolic_score(sender)
        recipient_score = self._calculate_metabolic_score(recipient)
        
        return {
            'sender_score': sender_score,
            'recipient_score': recipient_score
        }
    
    def _update_account_metrics(self, account, amount, timestamp):
        """Update metabolic metrics for an account"""
        # Convert timestamp to datetime
        dt = datetime.fromtimestamp(timestamp)
        hour = dt.hour
        day = dt.weekday()
        
        # Apply decay to historical patterns (simulates biological memory)
        self.account_baselines[account]['hourly_energy'] *= self.decay_factor
        self.account_baselines[account]['daily_energy'] *= self.decay_factor
        
        # Update energy patterns
        self.account_baselines[account]['hourly_energy'][hour] += abs(amount)
        self.account_baselines[account]['daily_energy'][day] += abs(amount)
        
        # Update average metrics
        baseline = self.account_baselines[account]
        baseline['transaction_count'] += 1
        
        if amount > 0:  # Energy input
            baseline['avg_input'] = (baseline['avg_input'] * (baseline['transaction_count'] - 1) + 
                                     amount) / baseline['transaction_count']
        else:  # Energy output
            baseline['avg_output'] = (baseline['avg_output'] * (baseline['transaction_count'] - 1) + 
                                      abs(amount)) / baseline['transaction_count']
        
        # Store transaction in history
        self.account_history[account].append({
            'timestamp': timestamp,
            'amount': amount
        })
        
        # Limit history size
        if len(self.account_history[account]) > 1000:
            self.account_history[account] = self.account_history[account][-1000:]
    
    def _calculate_metabolic_score(self, account):
        """Calculate metabolic anomaly score for an account"""
        if account not in self.account_baselines or self.account_baselines[account]['transaction_count'] < 5:
            return 0.0  # Not enough data
        
        baseline = self.account_baselines[account]
        history = self.account_history[account]
        
        # Calculate recent activity (last 24 hours)
        recent_time = history[-1]['timestamp'] - 86400  # 24 hours in seconds
        recent_transactions = [t for t in history if t['timestamp'] > recent_time]
        
        if not recent_transactions:
            return 0.0
        
        # Calculate energy metrics
        recent_input = sum(t['amount'] for t in recent_transactions if t['amount'] > 0)
        recent_output = sum(abs(t['amount']) for t in recent_transactions if t['amount'] < 0)
        recent_count = len(recent_transactions)
        
        # Calculate anomaly scores for different metabolic aspects
        input_anomaly = abs(recent_input - baseline['avg_input'] * recent_count) / (baseline['avg_input'] * recent_count + 1)
        output_anomaly = abs(recent_output - baseline['avg_output'] * recent_count) / (baseline['avg_output'] * recent_count + 1)
        
        # Calculate time pattern anomaly
        time_pattern_anomaly = 0
        for t in recent_transactions:
            dt = datetime.fromtimestamp(t['timestamp'])
            hour = dt.hour
            day = dt.weekday()
            
            # Compare to baseline patterns
            hourly_anomaly = abs(t['amount']) / (baseline['hourly_energy'][hour] + 1)
            daily_anomaly = abs(t['amount']) / (baseline['daily_energy'][day] + 1)
            
            time_pattern_anomaly += (hourly_anomaly + daily_anomaly) / 2
        
        if recent_count > 0:
            time_pattern_anomaly /= recent_count
        
        # Combine anomaly scores
        metabolic_score = (input_anomaly + output_anomaly + time_pattern_anomaly) / 3
        
        return metabolic_score
                    </code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Use Cases Section -->
    <section class="use-cases">
        <div class="container">
            <div class="section-header">
                <h2>Use Cases</h2>
            </div>
            <div class="use-cases-content">
                <div class="use-case">
                    <h3>Pump and Dump Detection</h3>
                    <p>The Metabolism Engine can identify the abnormal energy patterns associated with pump and dump schemes, where there's a sudden burst of transaction activity followed by a rapid decline.</p>
                </div>
                <div class="use-case">
                    <h3>Sleeper Account Activation</h3>
                    <p>By monitoring metabolic awakening patterns, the model can detect when dormant accounts suddenly become active, which is often a precursor to coordinated fraud attacks.</p>
                </div>
                <div class="use-case">
                    <h3>Transaction Laundering</h3>
                    <p>The model can identify accounts that serve as energy transfer stations, rapidly receiving and sending funds with minimal balance retention, a common pattern in money laundering operations.</p>
                </div>
                <div class="use-case">
                    <h3>Bot Detection</h3>
                    <p>Automated bots often exhibit unnatural metabolic patterns with consistent energy expenditure regardless of time of day, which the Metabolism Engine can distinguish from human-operated accounts.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Back to Main Button -->
    <div class="back-to-main">
        <div class="container">
            <a href="../index.html" class="btn-primary">
                <i class="fas fa-arrow-left"></i> Back to Main Page
            </a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <h2>BioChainGuard</h2>
                    <p>Bio-Inspired Blockchain Fraud Detection Suite</p>
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="../index.html#overview">Overview</a></li>
                        <li><a href="../index.html#problem">Problem</a></li>
                        <li><a href="../index.html#models">Models</a></li>
                        <li><a href="../index.html#visualizer">Visualizer</a></li>
                        <li><a href="../index.html#tech">Tech Stack</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Contact</h3>
                    <p>For more information about this project, please contact us.</p>
                    <a href="mailto:info@biochainfraud.com" class="btn-secondary">Contact Us</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Bio-Inspired Blockchain Fraud Detection Suite. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../js/main.js"></script>
</body>
</html>
